# 🚀 Fzf-lua & Vim-Bookmarks 사용 가이드

이번 마이그레이션을 통해 도입된 고성능 검색 도구 `fzf-lua`와 북마크 관리 도구 `vim-bookmarks`의 상세 사용법입니다.

---

## 1. ⚡ Fzf-lua (초고속 퍼지 파인더)

기존 Telescope를 대체하는, 속도에 최적화된 검색 도구입니다.

### 🔑 기본 단축키 (Keymaps)
| 키 매핑 | 기능 | 설명 |
| :--- | :--- | :--- |
| `<leader>fs` | **F**ind **S**iles | 프로젝트 내 파일 찾기 (숨김 파일 제외, `.gitignore` 존중) |
| `<leader>fg` | **F**ind **G**rep | 프로젝트 전체 텍스트 검색 (`ripgrep` 기반) |
| `<leader>fb` | **F**ind **B**uffers | 현재 열려있는 버퍼 목록 검색 및 전환 |
| `<leader>fh` | **F**ind **H**elp | Neovim/플러그인 도움말 태그 검색 |
| `<leader>as` | **A**erial **S**ymbols | 코드 구조(함수, 클래스 등) 심볼 검색 (`aerial.nvim` 연동) |

### 💡 효율적인 사용 팁

#### 1. 검색 창 내에서의 동작 (Actions)
검색 결과 창에서 파일을 선택할 때 다음 키를 활용하세요:
- **`Enter`**: 현재 창에서 파일 열기
- **`Ctrl-v`**: 세로 분할(Vertical Split)로 열기
- **`Ctrl-x`**: 가로 분할(Horizontal Split)로 열기
- **`Ctrl-t`**: 새 탭(New Tab)으로 열기
- **`Ctrl-q`**: 선택한 항목들을 Quickfix 리스트로 보내기

#### 2. 스마트 검색 문법 (Fuzzy Search Syntax)
`fzf` 엔진은 단순 입력 외에도 강력한 필터링 문법을 제공합니다.
- **`'string`**: 정확히 일치하는 단어 검색 (따옴표 사용)
  - 예: `'main` -> "main"이 정확히 포함된 파일만 검색
- **`^prefix`**: 해당 단어로 시작하는 항목 검색
- **`suffix$`**: 해당 단어로 끝나는 항목 검색 (예: `.lua$`)
- **`!string`**: 해당 단어가 **포함되지 않은** 항목 검색 (제외)

#### 3. Live Grep (`<leader>fg`) 활용법
- 입력하는 즉시 `ripgrep`이 실행되어 수만 개의 파일에서도 텍스트를 실시간으로 찾습니다.
- 검색어 뒤에 공백을 두고 파일 확장자를 입력하여 필터링할 수는 없지만(Telescope와의 차이), 검색 속도가 압도적으로 빠르므로 내용을 더 구체적으로 입력하는 것이 유리합니다.

---

## 2. 🔖 Vim-Bookmarks (북마크 관리)

코드를 분석하거나 나중에 다시 볼 위치를 표시하는 도구입니다.

### 🔑 기본 단축키 (Keymaps)
| 키 매핑 | 기능 | 설명 |
| :--- | :--- | :--- |
| `mm` | Toggle Mark | 현재 줄에 북마크를 추가하거나 제거 (아이콘: 🔖) |
| `mi` | Annotate | 북마크에 메모(주석) 추가 (아이콘: 📝). "왜 마킹했는지" 기록용 |
| `mn` | Next | 다음 북마크로 이동 |
| `mp` | Previous | 이전 북마크로 이동 |
| `mc` | Clear | 현재 버퍼의 모든 북마크 제거 |
| `ml` | **L**ist | **모든 북마크 목록 보기** (Fzf-lua Quickfix 창으로 열림) |

### 💡 효율적인 워크플로우

#### 1. Quickfix 목록을 통한 통합 관리 (`ml`)
- `ml`을 누르면 프로젝트 내의 모든 북마크가 `Quickfix` 리스트에 담기고, 자동으로 `fzf-lua` 창이 뜹니다.
- 여기서 `fzf`의 검색 기능을 이용해 북마크해둔 파일명이나 메모 내용을 검색하여 즉시 이동할 수 있습니다.

#### 2. 주석(Annotation) 활용 (`mi`)
- 단순히 `mm`만 누르면 나중에 왜 표시했는지 잊어버리기 쉽습니다.
- `mi`를 눌러 "Refactor needed", "Bug source?" 같은 짧은 메모를 남기세요.
- 이 메모는 `ml` 목록에서도 함께 표시되어 검색이 가능합니다.

---

## 3. 🔄 Aerial & Fzf-lua 연동

코드 구조를 파악할 때 `<leader>as`를 사용합니다.
- 기존 Telescope 확장보다 더 빠르게 현재 파일의 함수, 클래스, 변수 목록을 스캔하여 보여줍니다.
- 긴 파일에서 특정 함수로 점프할 때 매우 유용합니다.
